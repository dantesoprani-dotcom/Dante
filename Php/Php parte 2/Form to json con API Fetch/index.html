<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Form to JSON con API Fetch</title>
<style>
  body { background-color: #555; color: white; font-family: Arial; font-weight: bold; }
  label { display: block; margin-top: 8px; }
  input { margin-bottom: 10px; display: block; }
  button, input[type="submit"] {
    font-weight: bold;
    background-color: #333;
    color: white;
    border: 1px solid white;
    padding: 5px 10px;
    cursor: pointer;
  }
</style>
</head>
<body>

<form id="formulario" method="post" action="respuesta.php">
  <label for="codigoUsuario">Código Usuario</label>
  <input type="text" name="codigoUsuario" id="codigoUsuario" value="1234">

  <label for="apellidoUsuario">Apellido de Usuario</label>
  <input type="text" name="apellidoUsuario" id="apellidoUsuario" value="Wittbecker">

  <label for="nombreUsuario">Nombre de Usuario</label>
  <input type="text" name="nombreUsuario" id="nombreUsuario" value="Gus">

  <input type="submit" value="Enviar form de manera tradicional">
</form>

<br>

<button id="disparo" type="button">
  Disparar requerimiento asincrónico AJAX
</button>

<script>
const btn = document.getElementById('disparo');
const form = document.getElementById('formulario');

btn.addEventListener('click', () => {
  
  const datosFormulario = new FormData(form);

  
  const options = {
    method: 'POST',
    body: datosFormulario
  };

  fetch('respuesta.php', options)
    .then(res => res.text())
    .then(texto => {
      alert(texto); 
    })
    .catch(error => {
      alert("Error: " + error);
    });
});
</script>

</body>
</html>
